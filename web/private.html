<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Hive Mind</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body data-lobbykey="KEY_PLACEHOLDER">
  <div class="bodyText" id="bodyDiv">
    <img src="/webtitle.png" alt="Hive Mind">
    <p>Copy the link and send it to whoever you want to play against, then click Play when you're ready!</p>
    <div>
      <input type="text" value="" id="gamelink" style="width:48ch;text-align:center;" readonly>
      <br>
      <button onclick="copyLobbyLink(event)">Copy</button>
    </div>
    <br>
    <form name="playprivateform" autocomplete="off">
      <div>
	<button type="submit" class="block">Play</button>
      </div>
    </form>
  </div>
  <canvas id="canvas" oncontextmenu="event.preventDefault()" hidden="hidden"></canvas>
  <script>
    var lobbyKey = document.body.dataset.lobbykey;
    function copyLobbyLink(e) {
	var copyText = document.getElementById('gamelink');
	copyText.select();
	copyText.setSelectionRange(0,99999);
	document.execCommand("copy");
    }
    document.getElementById('gamelink').setAttribute('value', window.location.origin+'/'+lobbyKey);
    document.forms['playprivateform'].addEventListener('submit', function (event) {
	event.preventDefault();
	window.location.href = '/'+lobbyKey;
    });
  </script>
</body>
</html>
